FROM node:22-alpine AS base

WORKDIR /app

COPY frontend/package.json ./frontend/package.json
WORKDIR /app/frontend

# Install all dependencies (including dev) for building Tailwind/PostCSS.
RUN npm install

COPY frontend ./

RUN npm run build

EXPOSE 3000

CMD ["npm", "start"]

